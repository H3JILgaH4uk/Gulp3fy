@use 'utils/variables';
@use 'functions/converter' as converter;

//? ### Arguments
//	$propery:  'font-size',
//	$maxValue: 32,
//	$minValue: 26,
//	$mode:     2, [Default 1]

@mixin adaptive($property, $maxValue, $minValue, $mode: 1) {
	$addSize: $maxValue - $minValue;
	$minValue: #{$minValue + px};

	// Max width
	@if $mode == 1 {
		#{$property}: converter.rem($maxValue);
		$containerWidth: variables.$container - (variables.$offsetMax * 2);

		@media (max-width: #{converter.em($containerWidth)}) {
			#{$property}: calc($minValue + $addSize * ((100vw - 320px) / #{$containerWidth - 320}));
		}

		// Min width
	} @else if $mode == 2 {
		#{$property}: converter.rem($maxValue);

		@media (min-width: #{converter.em($containerWidth)}) {
			// prettier-ignore
			#{$property}: calc($minValue + $addSize * ((100vw - 320px) / #{variables.$layoutWidth - 320}));
		}

		// Always
	} @else {
		#{$property}: calc(
			$minValue + $addSize * ((100vw - 320px) / #{variables.$layoutWidth - 320})
		);
	}
}
